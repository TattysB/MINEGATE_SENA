<!DOCTYPE html>
{% load static %}

<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenido - MineGate</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="{% static 'css/bienvenida.css' %}" />
</head>
<body>
    <!-- Part铆culas de fondo -->
    <div class="particles" id="particles"></div>

    <!-- Contenedor de bienvenida -->
    <div class="welcome-container">
        <!-- Animaci贸n del check con anillos de pulsaci贸n -->
        <div class="check-container">
            <div class="pulse-ring"></div>
            <div class="pulse-ring"></div>
            <div class="pulse-ring"></div>
            <div class="check-circle">
                <i class="fa-solid fa-check check-icon"></i>
            </div>
        </div>

        <!-- Mensaje de bienvenida -->
        <h1 class="welcome-title">隆Bienvenido!</h1>
        <h2 class="welcome-subtitle">{{ nombre_usuario }}</h2>
        <p class="welcome-message">
            Tu inicio de sesi贸n fue exitoso.<br>
            Estamos preparando tu panel de control...
        </p>

        <!-- Barra de progreso -->
        <div class="progress-container">
            <div class="progress-bar"></div>
        </div>
        <p class="redirect-text">
            <i class="fa-solid fa-spinner fa-spin"></i> Redirigiendo en unos segundos...
        </p>
    </div>

    <script>
        // Crear part铆culas de fondo
        const particlesContainer = document.getElementById('particles');
        const numberOfParticles = 20;

        for (let i = 0; i < numberOfParticles; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            
            const size = Math.random() * 60 + 20;
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.top = `${Math.random() * 100}%`;
            particle.style.animationDelay = `${Math.random() * 5}s`;
            particle.style.animationDuration = `${Math.random() * 10 + 10}s`;
            
            particlesContainer.appendChild(particle);
        }

        // Crear confeti
        function createConfetti() {
            const colors = ['#a5d6a7', '#81c784', '#66bb6a', '#43a047', '#2e7d32', '#c8e6c9'];
            const confettiCount = 50;

            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.top = '-10px';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 0.5}s`;
                confetti.style.animationDuration = `${Math.random() * 2 + 2}s`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 5000);
            }
        }

        // Lanzar confeti al cargar
        setTimeout(createConfetti, 600);

        // Redirecci贸n autom谩tica despu茅s de 3 segundos
        setTimeout(() => {
            window.location.href = "{{ redirect_url }}";
        }, 3000);

        console.log(' P谩gina de bienvenida cargada');
        console.log(' Usuario:', '{{ nombre_usuario }}');
        console.log(' Redirigiendo a:', '{{ redirect_url }}');
    </script>
</body>
</html>
